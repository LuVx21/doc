---
title: 面向对象
date: 2018-03-27
tags:
- Java
---
<!-- TOC -->

- [继承](#继承)
- [封装](#封装)
- [多态](#多态)
- [Q&A](#qa)

<!-- /TOC -->

# 继承



# 封装

抽象类的主要作用

# 多态

Java引用变量有两个类型: 编译时类型, 运行时类型.

编译时类型由声明该变量时使用的类型决定, 运行时类型由实际赋给该变量的对象决定. 如果编译时类型和运行时类型不一致, 就可能出现所谓的多态.

# Q&A

**抽象类和接口的区别, 分别在什么场合下使用它们?**

抽象类

* 有抽象方法的类是抽象类, 抽象类可以不含有抽象方法
* 抽象类不可实例化, 但可以有构造方法
* 继承自抽象类的子类需实现抽象方法, 若不实现, 子类也必须声明为抽象类
* 可以有属性, 属性可以是静态也可以不是
* 方法可被`public/protected`修饰
* 可以有抽象方法

接口

* 不可实例化, 且不可有构造方法
* 可以有属性, 默认是被`public static final`修饰, 因此声明时候必须初始化
* 抽象方法默认被`public abstract`修饰(可省略), 可以认为在Java8之前接口中仅有抽象方法
* Java8开始支持默认方法(使用`default`修饰的带有方法实体的方法, 可类比于抽象类中的非抽象方法)
* 不可以有静态方法

区别

* 抽象类可以提供成员方法的实现细节, 而接口中只能存在抽象方法.
* 抽象类中的成员变量可以是各种类型的, 而接口中的成员变量只能是public static final类型的.
* 接口中不能含有静态代码块以及静态方法, 而抽象类可以有静态代码块和静态方法.

> 可以看出,接口在主键向抽象类靠拢

使用

* 抽象类是针对继承结构的, 而接口是为扩展功能, 用于不存在继承结构却有共通功能的结构
* 如果你拥有一些方法并且想让它们中的一些有默认实现, 那么使用抽象类.
* 如果你想实现多重继承, 那么你必须使用接口. 由于Java不支持多继承, 子类不能够继承多个类, 但可以实现多个接口. 因此你就可以使用接口来解决它.
* 如果基本功能在不断改变, 那么就需要使用抽象类. 如果不断改变基本功能并且使用接口, 那么就需要改变所有实现了该接口的类.

> Java语言提供的Cloneable接口和Serializable接口的代码非常简单, 
> 它们都是空接口, 这种空接口也称为标识接口, 标识接口中没有任何方法的定义, 
> 其作用是告诉jre这些接口的实现类是否具有某个功能, 
> 如是否支持克隆, 是否支持序列化等.
