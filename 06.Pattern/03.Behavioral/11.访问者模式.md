<details>
<summary>点击展开目录</summary>
<!-- TOC -->

- [访问者模式](#访问者模式)
- [组成](#组成)

<!-- /TOC -->
</details>

## 访问者模式

如果一个对象结构比较复杂但结构稳定不易变化, 而被操作的处理过程易于变化, 那此时就适合使用访问者模式,
如复杂的集合对象, XML文档解析, 编译器的设计等, 最常见的便是用于语法解析等场景, 如druid对sql进行解析

而换个思路想, 这也是一种针对不同的元素采取不同的策略进行处理的方式

优点: 易于增加对元素的操作, 一个visitor便是一种操作
缺点: 不易于增加元素, 需要修改访问者的抽象层和所有实现类

## 组成

1. `Vistor`: 抽象访问者, 为该对象结构中具体元素角色声明一个访问操作接口`visit()`
2. `ConcreteVisitor`: 具体访问者, 每个具体访问者都实现了Vistor中定义的操作
3. `Element`: 抽象元素, 定义了一个`accept()`操作, 以Visitor作为参数
4. `ConcreteElement`: 具体元素, 实现了Element中的`accept()`方法, 调用Vistor的访问方法以便完成对一个元素的操作
5. `ObjectStructure`: 对象结构, 可以是组合模式, 也可以是集合; 能够枚举它包含的元素; 提供一个接口, 允许Vistor访问它的元素

